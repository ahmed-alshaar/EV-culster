<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Analytics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.plot.ly/plotly-3.1.1.min.js"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@300;400;500;600;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none;}
        body { font-family: 'Orbitron', 'Inter', sans-serif; }
        .glow-cyan { box-shadow: 0 0 20px rgba(6, 182, 212, 0.3); }
        .glow-orange { box-shadow: 0 0 15px rgba(249, 115, 22, 0.4); }
        .glow-green { box-shadow: 0 0 15px rgba(34, 197, 94, 0.4); }
        .glow-teal { box-shadow: 0 0 15px rgba(20, 184, 166, 0.4); }
        .energy-bar {
            animation: growBar 0.8s cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
        }
        .efficiency-counter {
            animation: countUp 2s cubic-bezier(0.4, 0.0, 0.2, 1) forwards;
        }
        @keyframes growBar {
            0% { transform: scaleY(0); transform-origin: bottom; }
            100% { transform: scaleY(1); transform-origin: bottom; }
        }
        @keyframes countUp {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body class="bg-black overflow-hidden">

<main id="energy-analytics-main" class="w-full h-screen bg-gradient-to-br from-slate-900 via-black to-slate-900 flex items-center justify-center">
  
  <div id="cluster-display" class="relative w-[1400px] h-[600px] bg-gradient-to-b from-slate-900/90 to-black border border-slate-800 rounded-[2rem] overflow-hidden shadow-2xl">
    
    <div class="absolute inset-0 bg-gradient-radial from-cyan-500/5 via-transparent to-transparent pointer-events-none"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[400px] bg-cyan-500/3 rounded-full blur-3xl pointer-events-none"></div>
    
    <div id="top-bar" class="absolute top-0 left-0 right-0 h-14 px-10 flex items-center justify-between bg-gradient-to-b from-slate-800/60 to-transparent backdrop-blur-sm z-30">
      <div class="flex items-center gap-8 text-slate-400">
        <div class="flex items-center gap-2">
          <i class="fa-solid fa-clock text-sm"></i>
          <span class="text-sm font-medium">14:32</span>
        </div>
        <div class="flex items-center gap-2">
          <i class="fa-solid fa-temperature-half text-sm"></i>
          <span class="text-sm font-medium">22°C</span>
        </div>
        <div class="flex items-center gap-2">
          <i class="fa-solid fa-cloud-sun text-sm"></i>
          <span class="text-xs">Partly Cloudy</span>
        </div>
      </div>
      
      <div class="flex items-center gap-4 px-8 py-3 bg-slate-800/50 rounded-2xl border border-slate-700/60 backdrop-blur-md glow-cyan">
        <div class="flex items-center gap-3">
          <div class="relative">
            <i class="fa-solid fa-battery-three-quarters text-green-400 text-xl"></i>
            <div class="absolute inset-0 bg-green-400/20 rounded-lg blur-sm"></div>
          </div>
          <span class="text-xl text-white font-medium">64%</span>
        </div>
        
        <div class="w-px h-6 bg-slate-600"></div>
        
        <div class="flex items-center gap-3">
          <i class="fa-solid fa-road text-cyan-400 text-lg"></i>
          <span class="text-xl text-white font-medium">278 km</span>
        </div>
      </div>
      
      <div class="flex items-center gap-6 text-slate-400">
        <div class="flex items-center gap-2">
          <i class="fa-solid fa-wifi text-sm"></i>
          <span class="text-xs">5G</span>
        </div>
        <i class="fa-solid fa-signal text-sm"></i>
        <div class="w-7 h-4 border border-slate-500 rounded-sm relative bg-slate-800/50">
          <div class="absolute left-0.5 top-0.5 bottom-0.5 w-4/5 bg-green-400 rounded-sm"></div>
          <div class="absolute -right-1 top-1/2 transform -translate-y-1/2 w-1 h-2 bg-slate-500 rounded-r-sm"></div>
        </div>
        <i class="fa-solid fa-sun text-sm text-yellow-400"></i>
      </div>
    </div>

    <div id="main-display" class="absolute inset-0 pt-20 pb-24 px-16">
      
      <div id="energy-chart-container" class="relative h-[320px] bg-slate-900/60 rounded-3xl border border-slate-700/60 overflow-hidden backdrop-blur-sm mb-6 glow-cyan">
        <div class="absolute top-4 left-6 z-20">
          <h2 class="text-xl text-white font-medium tracking-wide mb-1">Energy Flow Analysis</h2>
          <p class="text-sm text-slate-400">Regeneration vs Consumption</p>
        </div>
        
        <div id="energy-chart" style="height: 320px;" class="w-full"></div>
      </div>

      <div id="kpi-section" class="grid grid-cols-3 gap-8">
        
        <div id="avg-efficiency-card" class="bg-slate-900/60 rounded-2xl border border-slate-700/60 p-6 backdrop-blur-sm glow-teal">
          <div class="flex items-center gap-3 mb-4">
            <i class="fa-solid fa-leaf text-teal-400 text-xl"></i>
            <span class="text-sm text-slate-400 tracking-wide">AVG EFFICIENCY</span>
          </div>
          <div class="efficiency-counter">
            <span class="text-3xl text-teal-400 font-bold tracking-tight" id="efficiency-value">14.2</span>
            <span class="text-lg text-slate-300 ml-2">kWh/100km</span>
          </div>
          <div class="mt-3 flex items-center gap-2 text-xs text-green-400">
            <i class="fa-solid fa-arrow-down"></i>
            <span>2.1% vs last week</span>
          </div>
        </div>

        <div id="energy-recovered-card" class="bg-slate-900/60 rounded-2xl border border-slate-700/60 p-6 backdrop-blur-sm glow-green">
          <div class="flex items-center gap-3 mb-4">
            <i class="fa-solid fa-recycle text-green-400 text-xl"></i>
            <span class="text-sm text-slate-400 tracking-wide">ENERGY RECOVERED</span>
          </div>
          <div class="efficiency-counter" style="animation-delay: 0.2s;">
            <span class="text-3xl text-green-400 font-bold tracking-tight" id="recovered-value">8.4</span>
            <span class="text-lg text-slate-300 ml-2">kWh</span>
          </div>
          <div class="mt-3 flex items-center gap-2 text-xs text-slate-400">
            <i class="fa-solid fa-clock"></i>
            <span>Today's session</span>
          </div>
        </div>

        <div id="distance-charge-card" class="bg-slate-900/60 rounded-2xl border border-slate-700/60 p-6 backdrop-blur-sm glow-orange">
          <div class="flex items-center gap-3 mb-4">
            <i class="fa-solid fa-route text-orange-400 text-xl"></i>
            <span class="text-sm text-slate-400 tracking-wide">DISTANCE SINCE CHARGE</span>
          </div>
          <div class="efficiency-counter" style="animation-delay: 0.4s;">
            <span class="text-3xl text-orange-400 font-bold tracking-tight" id="distance-value">142</span>
            <span class="text-lg text-slate-300 ml-2">km</span>
          </div>
          <div class="mt-3 flex items-center gap-2 text-xs text-slate-400">
            <i class="fa-solid fa-battery-half"></i>
            <span>36% used</span>
          </div>
        </div>

      </div>
    </div>

    <div id="bottom-bar" class="absolute bottom-0 left-0 right-0 h-20 px-10 flex items-center justify-between bg-gradient-to-t from-slate-900/90 to-transparent backdrop-blur-md z-30">
      
      <div class="flex items-center gap-6">
        <div class="flex items-center gap-1 px-6 py-3 bg-slate-800/60 rounded-xl border border-slate-700/60">
          <span class="text-sm text-slate-500 px-2">P</span>
          <span class="text-sm text-slate-500 px-2">R</span>
          <span class="text-sm text-slate-500 px-2">N</span>
          <span class="text-2xl text-white px-2 bg-cyan-500/20 rounded-lg border border-cyan-500/40">D</span>
        </div>
        
        <div class="w-12 h-12 rounded-full border-4 border-red-500 bg-white flex items-center justify-center">
          <span class="text-lg font-bold text-black">50</span>
        </div>
        
        <div class="flex items-center gap-2 text-slate-500">
          <i class="fa-solid fa-hand-paper text-sm"></i>
          <span class="text-xs">P-BRAKE</span>
        </div>
      </div>
      
      <div class="flex items-center gap-8 text-sm">
        <div class="flex flex-col items-center">
          <span class="text-xs text-slate-500 mb-1">MODE</span>
          <span class="text-white font-medium">ECO</span>
        </div>
        
        <div class="w-px h-10 bg-slate-700"></div>
        
        <div class="flex flex-col items-center">
          <span class="text-xs text-slate-500 mb-1">REGEN</span>
          <span class="text-white font-medium">AUTO</span>
        </div>
        
        <div class="w-px h-10 bg-slate-700"></div>
        
        <div class="flex flex-col items-center">
          <span class="text-xs text-slate-500 mb-1">CLIMATE</span>
          <span class="text-white font-medium">22°C</span>
        </div>
        
        <div class="w-px h-10 bg-slate-700"></div>
        
        <div class="flex flex-col items-center">
          <span class="text-xs text-slate-500 mb-1">OUTSIDE</span>
          <span class="text-white font-medium">22°C</span>
        </div>
      </div>
      
      <div class="flex items-center gap-4">
        <div class="flex items-center gap-3 px-4 py-2 bg-slate-800/50 rounded-xl border border-slate-700/60">
          <i class="fa-solid fa-chart-line text-cyan-400 text-lg"></i>
          <div class="flex flex-col">
            <span class="text-sm text-white font-medium">Energy Analytics</span>
            <span class="text-xs text-slate-400">Active View</span>
          </div>
        </div>
        
        <div class="flex items-center gap-3 text-slate-400">
          <i class="fa-solid fa-cog text-lg"></i>
          <i class="fa-solid fa-home text-lg"></i>
        </div>
      </div>
    </div>
  </div>
  
</main>

<script>
window.addEventListener('load', function() {
  try {
    const energyData = [
      {
        x: ['00:00', '02:00', '04:00', '06:00', '08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00'],
        y: [-12, -8, -15, 25, 45, 35, 28, 18, 32, 22, -18, -10],
        type: 'bar',
        name: 'Energy Flow',
        marker: {
          color: ['#10b981', '#10b981', '#10b981', '#f97316', '#f97316', '#f97316', '#f97316', '#f97316', '#f97316', '#f97316', '#10b981', '#10b981']
        },
        hovertemplate: '<b>%{x}</b><br>%{y} kW<br><extra></extra>'
      }
    ];

    const layout = {
      title: {
        text: '',
        font: { size: 0 }
      },
      xaxis: {
        title: '',
        gridcolor: '#475569',
        tickcolor: '#64748b',
        tickfont: { color: '#94a3b8', size: 12 }
      },
      yaxis: {
        title: '',
        gridcolor: '#475569',
        tickcolor: '#64748b',
        tickfont: { color: '#94a3b8', size: 12 },
        zeroline: true,
        zerolinecolor: '#06b6d4',
        zerolinewidth: 2
      },
      margin: { t: 60, r: 20, b: 40, l: 60 },
      plot_bgcolor: 'rgba(0,0,0,0)',
      paper_bgcolor: 'rgba(0,0,0,0)',
      showlegend: false,
      annotations: [
        {
          x: 0.02,
          y: 0.98,
          xref: 'paper',
          yref: 'paper',
          text: 'Regeneration',
          showarrow: false,
          font: { color: '#10b981', size: 12 },
          xanchor: 'left',
          yanchor: 'top'
        },
        {
          x: 0.02,
          y: 0.05,
          xref: 'paper',
          yref: 'paper',
          text: 'Consumption',
          showarrow: false,
          font: { color: '#f97316', size: 12 },
          xanchor: 'left',
          yanchor: 'bottom'
        }
      ]
    };

    const config = {
      responsive: true,
      displayModeBar: false,
      displaylogo: false
    };

    Plotly.newPlot('energy-chart', energyData, layout, config);

    setTimeout(() => {
      let efficiencyValue = 0;
      let recoveredValue = 0;
      let distanceValue = 0;
      
      const efficiencyTarget = 14.2;
      const recoveredTarget = 8.4;
      const distanceTarget = 142;
      
      const interval = setInterval(() => {
        if (efficiencyValue < efficiencyTarget) {
          efficiencyValue += 0.2;
          document.getElementById('efficiency-value').textContent = efficiencyValue.toFixed(1);
        }
        if (recoveredValue < recoveredTarget) {
          recoveredValue += 0.15;
          document.getElementById('recovered-value').textContent = recoveredValue.toFixed(1);
        }
        if (distanceValue < distanceTarget) {
          distanceValue += 2;
          document.getElementById('distance-value').textContent = Math.floor(distanceValue);
        }
        
        if (efficiencyValue >= efficiencyTarget && recoveredValue >= recoveredTarget && distanceValue >= distanceTarget) {
          clearInterval(interval);
        }
      }, 50);
    }, 800);

  } catch(e) {
    document.getElementById('energy-chart').innerHTML = '<div class="flex items-center justify-center h-full text-slate-400">Chart loading...</div>';
  }
});
</script>

</body>
</html>
